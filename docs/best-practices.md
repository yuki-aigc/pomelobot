# 操作最佳指南

本指南面向日常开发与运维协作，强调使用 AI CLI 让 AI 直接操作代码库，并让 AI 记住关键事项。

## 1) 任务发起方式
- 优先使用 **AI CLI** 让 AI 直接在仓库中修改代码、生成文档、执行命令。
- 对复杂任务，先让 AI 给出计划与风险点，再确认执行。
- 说明清晰目标、约束与验收标准（如：需要写哪些文件、是否要跑测试）。

## 2) 让 AI 记住重要事项
当你希望 AI 记住信息时，用明确的指令：
- “请记住/记住：……”
- 指定 **daily** 或 **long-term**：
  - `daily`：临时上下文、当日事项
  - `long-term`：偏好、长期规则、关键决策

建议记住的内容：
- 你的偏好（比如默认语言、输出风格、格式规范）。
- 关键工程规则（命名规范、目录结构、编码约定）。
- 重要决策（技术选型、已确定的方案与限制）。
- 环境假设（工作目录、运行方式、常用命令）。

不建议写入记忆的内容：
- 任何密钥、Token、账号密码。
- 高敏感信息（客户数据、内部机密）。

## 3) 编码协作建议
- 让 AI 执行变更并说明 **改了什么 / 为什么改 / 影响范围**。
- 大改动时要求 **输出变更摘要** 与 **关键文件路径**。
- 要求 AI 在必要时运行测试，并说明未运行测试的原因。

## 4) 命令执行与安全
- 执行命令前，先确认是否只读、安全。
- 避免让 AI 执行破坏性命令（如 `rm -rf`、重置 git 历史）。
- 遇到审批流程时，确认命令与目录正确再放行。

## 5) 使用 CLI 会话能力
- 用 `/status` 查看 token 使用与压缩阈值。
- 用 `/compact` 触发压缩并要求先保存关键记忆。
- 用 `/new` 开启新会话，避免上下文过大。

## 6) 需求表达示例
- “请在 `docs/` 里新增一份说明文档，讲清楚 Memory 机制与未来迭代方向。”
- “请记住：我更喜欢简洁的输出，代码审查优先指出风险点。”
- “请先给出计划和风险点，再执行改动。”
